# FileUpload

## Description

File uploads are used to browse file(s) for upload from the users system.

## See live demos on storybook

[Storybook FileUpload Demos](https://element-react.bayer.com/?path=/story/components-file-upload)

## Install bundle from npm-e

```bash
npm i @element/react-components @element/themes
```

#### Optional: install the component individually

```bash
npm i @element/react-file-upload @element/themes
```

<details>

<summary>
Please Note: You will need to add @element to your .npmrc!
</summary>

Open `~/.npmrc` in an editor and add the following line to enable the `@element`
scope:

```bash

@element:registry=https://npm.platforms.engineering

```

### Troubleshooting

See below if you have never installed a package from Bayer's npm-enterprise or
run into the following error:

```bash

npm ERR! code E401
npm ERR! Unable to authenticate, your authentication token seems to be invalid.
npm ERR! To correct this please trying logging in again with:
npm ERR!     npm login

```

### Setup an access token

See the
[devtools npm-e guide](https://devtools.bayer.com/docs/development/package-management/npm/)
to learn how to create an access token if this is the first time you are using a
npm-e package at Bayer or you do not have a line that starts with the following
in your `~/.npmrc` file:

`//npm.platforms.engineering/:_authToken=`

</details>

## Notes

File uploads are used to browse file(s) for upload from the user's system.
The file is actually uploaded by the parent application.

## Using References & Imperative Functions

File Upload supports the use of React references. You will receive an object
with a reference to the table and the following imperative functions:

```json
{
    clear, // Function to clear the file values after uploading is complete
    btnRef, // Ref to the browse file button
    urlInput, // Ref to the url or file name input that displays the file name(s)
    input; // Ref to the input that holds the file value, located inside the button
}
```

Please see the
[File upload demos](https://element-react.bayer.com/?path=/story/components-file-upload--basic-file-upload)
for example usage.

## File Upload Props

| Name        | Type    | Default          | Required | Description                                                                                                                                                                    |
| ----------- | ------- | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| className   | string  | undefined        | false    | The css class name to be passed through to the component markup.                                                                                                               |
| disabled    | boolean | false            | false    | Prevent the user from interacting with the component.                                                                                                                          |
| id          | string  | undefined        | false    | Randomly generated id. May be overwritten.                                                                                                                                     |
| label       | string  | null             | false    | Label to be displayed on the button.                                                                                                                                           |
| multiple    | boolean | false            | false    | Allows for multiple files to be uploaded.                                                                                                                                      |
| placeholder | string  | 'No File Chosen' | false    | Placeholder text for the file name readonly input.                                                                                                                             |
| themeColor  | string  | 'primary'        | false    | Override the default (`primary`) color with the `secondary` color. Most commonly used when the control is placed on a darker surface.<br />Accepted Values: primary, secondary |

## File Upload Render Props

| Name     | Type            | Default | Required | Description                                                                                                                                                                                           |
| -------- | --------------- | ------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| children | React.ReactNode | null    | false    | Content to be rendered inside the button. Can be used instead `label` of to provide more flexibility. Accepts any valid markup. _Warning, if Label is set, it will be used instead of child content._ |

## File Upload Events

| Name     | Default | Required | Params                                                                                                                                       | Description                              |
| -------- | ------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------- |
| onChange | null    | false    | 1. Name: files, Type: FileList, Description: The file list of loaded files.,2. Name: event, Type: object, Description: The javascript event. | Fired when file input's value is changed |
