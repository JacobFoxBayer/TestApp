import _extends from '@babel/runtime-corejs3/helpers/extends';
import React, { forwardRef, useRef, useImperativeHandle, useState, useMemo, useEffect } from 'react';
import { IconButton } from '@element/react-icon-button';
import { Icon } from '@element/react-icon';
import clsx from 'clsx';
import PropTypes from 'prop-types';
import { edsQuerySelector, addProps, ConditionalWrapper } from '@element/react-common';
import { MDCTopAppBar } from '@material/top-app-bar';

/**
 *
 * This file is automatically generated by the Element
 * documentation system. Any modifications to this file
 * will be overwritten!
 *
 */

const TopAppBarPropTypes = {
  /**
   * Expects one or more ActionItems, will accept any valid components or markup.
   *
   * Defaults to **null**.
   */
  actions: PropTypes.node,
  /**
   * Content to be rendered in the center of TopAppBar. Accepts any valid markup. Cannot be used with Title and Subtitle.
   *
   * Defaults to **undefined**.
   */
  children: PropTypes.node,
  /**
   * The css class name to be passed through to the component markup.
   *
   * Defaults to **undefined**.
   */
  className: PropTypes.string,
  /**
   * The top app bar will styled contextually and displaying `contextualActions`. A top app bar can transform into a contextual top app bar to provide contextual actions to selected items. For example, if a photo is selected, phot editing actions can be displayed.
   *
   * Defaults to **false**.
   */
  contextual: PropTypes.bool,
  /**
   * Visual theme of the contextual background, dark or light
   *
   * Defaults to **'dark'**.
   */
  contextualTheme: PropTypes.oneOf(["dark", "light"]),
  /**
   * The TopAppBar will have reduced padding.
   *
   * Defaults to **false**.
   */
  dense: PropTypes.bool,
  /**
   * Whether or not the top app bar is elevated. By default it will be elevated on scroll only.
   *
   * Defaults to **false**.
   */
  elevated: PropTypes.bool,
  /**
   * The TopAppBar will remain on screen.
   *
   * Defaults to **true**.
   */
  fixed: PropTypes.bool,
  /**
   * Optional logo. Expects an image but accepts any valid markup.
   *
   * Defaults to **null**.
   */
  logo: PropTypes.node,
  /**
   * Size of the logo. Use `small` for 40x40, `medium` for 80x40, `large` for 130x40 images and `lgSquare` for 48x48.
   *
   * Defaults to **'small'**.
   */
  logoSize: PropTypes.oneOf(["small", "medium", "large", "lgSquare"]),
  /**
   * Optionally wrap both the logo and title content. This is intended for situations where a combined clickable logo & title would be used to go to the home/root of a website or application. Note: any interaction styling and accessibility concerns need to be handled by the wrapper itself (which is recommended for accessibility).
   *
   * Defaults to **undefined**.
   */
  logoTitleWrapper: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),
  /**
   * Navigation icon to trigger a menu. Expects an IconButton but accepts any valid markup.
   *
   * Defaults to **null**.
   */
  navigation: PropTypes.node,
  /**
   * Fired when navigation icon is clicked.
   *
   * Defaults to **null**.
   */
  onNavigation: PropTypes.func,
  /**
   * The TopAppBar will have increased padding.
   *
   * Defaults to **false**.
   */
  prominent: PropTypes.bool,
  /**
   * Tabs to be displayed in the lower slot of the top app bar. If this props is present the prominent props is automatically applied. If the actions prop is tabs actions will be ignored. Expects Element Tabs, but accepts any valid components or markup.
   *
   * Defaults to **null**.
   */
  prominentTabs: PropTypes.node,
  /**
   * Set a custom scroll target for the top app bar, defaults to window.
   *
   * Defaults to **'window'**.
   */
  scrollTarget: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),
  /**
   * Subtitle text for the Top App Bar. Cannot be used with children.
   *
   * Defaults to **null**.
   */
  subtitle: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),
  /**
   * Indicates whether the actions are tabs. Only necessary if not using Element Tabs. Will apply styles automatically for Element Tabs. Custom CSS may be necessary if not using Element Tabs.
   *
   * Defaults to **false**.
   */
  tabActions: PropTypes.bool,
  /**
   * Background theme color. Accepts one of 'primary', 'secondary', or 'surface'.
   *
   * Defaults to **'primary'**.
   */
  themeColor: PropTypes.oneOf(["primary", "secondary", "surface", "linear-gradient-white-to-bottom", "linear-gradient-white-to-top", "linear-gradient-black-to-bottom", "linear-gradient-black-to-top", "linear-gradient-primary-dark-to-bottom", "linear-gradient-primary-dark-to-top", "linear-gradient-primary-darker-to-bottom", "linear-gradient-primary-darker-to-top", "linear-gradient-primary-to-bottom", "linear-gradient-primary-to-top", "linear-gradient-secondary-dark-to-bottom", "linear-gradient-secondary-dark-to-top", "linear-gradient-secondary-darker-to-bottom", "linear-gradient-secondary-darker-to-top", "linear-gradient-secondary-to-bottom", "linear-gradient-secondary-to-top"]),
  /**
   * Title text for the Top App Bar. Cannot be used with children.
   *
   * Defaults to **null**.
   */
  title: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),
  /**
   * If true the top app bar's content will have a max width according to your theme's breakpoints.
   *
   * Defaults to **false**.
   */
  useContentMaxWidth: PropTypes.bool
};
const TopAppBarDefaultProps = {
  actions: null,
  children: undefined,
  className: undefined,
  contextual: false,
  contextualTheme: "dark",
  dense: false,
  elevated: false,
  fixed: true,
  logo: null,
  logoSize: "small",
  logoTitleWrapper: undefined,
  navigation: null,
  prominent: false,
  prominentTabs: null,
  scrollTarget: "window",
  subtitle: null,
  tabActions: false,
  themeColor: "primary",
  title: null,
  useContentMaxWidth: false
};

/**
 *
 * This file is automatically generated by the Element
 * documentation system. Any modifications to this file
 * will be overwritten!
 *
 */

const ActionItemPropTypes = {
  /**
   * The custom action notification badge to be rendered.
   *
   * Defaults to **undefined**.
   */
  badge: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.node]),
  /**
   * Accepts the name of any valid material icon (see Icon component documentation for a list of valid icons).
   *
   * Defaults to **null**.
   */
  icon: PropTypes.string,
  /**
   * ARIA label value to support screen readers.
   *
   * Defaults to **null**.
   */
  label: PropTypes.string,
  /**
   * Type of action item to be rendered.
   *
   * Defaults to **'icon'**.
   */
  type: PropTypes.oneOf(["icon", "link", "tabs"])
};
const ActionItemDefaultProps = {
  badge: undefined,
  icon: null,
  label: null,
  type: "icon"
};

/**
 *
 * This file is automatically generated by the Element
 * documentation system. Any modifications to this file
 * will be overwritten!
 *
 */

const TopAppBarFixedAdjustPropTypes = {
  /**
   * Apply the adjusted left margin.
   *
   * Defaults to **false**.
   */
  bannerOpen: PropTypes.bool,
  /**
   * Content to be rendered inside the TopAppBar. Accepts any valid markup.
   *
   * Defaults to **null**.
   */
  children: PropTypes.node,
  /**
   * The css class name to be passed through to the component markup.
   *
   * Defaults to **undefined**.
   */
  className: PropTypes.string,
  /**
   * Set to the same value as in TopAppBar to have the correct spacing.
   *
   * Defaults to **false**.
   */
  dense: PropTypes.bool,
  /**
   * Set to the same value as in TopAppBar to have the correct spacing.
   *
   * Defaults to **false**.
   */
  prominent: PropTypes.bool,
  /**
   * Base component/tag that will be rendered.
   *
   * Defaults to **'div'**.
   */
  tag: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType, PropTypes.instanceOf(React.Component)]),
  /**
   * If true the content will have a max width according to your theme's breakpoints.
   *
   * Defaults to **false**.
   */
  useContentMaxWidth: PropTypes.bool
};
const TopAppBarFixedAdjustDefaultProps = {
  bannerOpen: false,
  children: null,
  className: undefined,
  dense: false,
  prominent: false,
  tag: "div",
  useContentMaxWidth: false
};

/**
 *
 * This file is automatically generated by the Element
 * documentation system. Any modifications to this file
 * will be overwritten!
 *
 */

const TopAppBarContentWrapperPropTypes = {
  /**
   * Content to be rendered inside the TopAppBar. Accepts any valid markup.
   *
   * Defaults to **null**.
   */
  children: PropTypes.node,
  /**
   * The css class name to be passed through to the component markup.
   *
   * Defaults to **undefined**.
   */
  className: PropTypes.string
};
const TopAppBarContentWrapperDefaultProps = {
  children: null,
  className: undefined
};

const ActionItem = /*#__PURE__*/forwardRef((props, externalRef) => {
  const {
    badge,
    type,
    label,
    icon,
    className,
    iconType,
    ...customProps
  } = props;
  if (type === 'link') {
    return /*#__PURE__*/React.createElement("a", _extends({
      ref: externalRef
    }, customProps, {
      className: "lmnt-top-app-bar__action-item--link mdc-typography--subtitle2"
    }), label);
  }
  return /*#__PURE__*/React.createElement(IconButton, _extends({
    ref: externalRef,
    "aria-label": label,
    className: clsx('lmnt', 'mdc-top-app-bar__action-item', className)
  }, customProps), /*#__PURE__*/React.createElement(Icon, {
    icon: icon,
    badge: badge,
    badgePlacement: "left-start"
  }));
});
ActionItem.displayName = 'TopAppBarActionItem';
ActionItem.propTypes = ActionItemPropTypes;
ActionItem.defaultProps = ActionItemDefaultProps;

const TopAppBarContentWrapper = /*#__PURE__*/forwardRef((props, externalRef) => {
  const {
    children,
    className,
    ...customProps
  } = props;
  const ref = useRef();
  useImperativeHandle(externalRef, () => ({
    current: ref.current
  }), []);
  return /*#__PURE__*/React.createElement("div", _extends({
    ref: ref,
    className: clsx('lmnt', 'lmnt-top-app-bar__content', className)
  }, customProps), children);
});
TopAppBarContentWrapper.displayName = 'TopAppBarTopAppBarContentWrapper';
TopAppBarContentWrapper.propTypes = TopAppBarContentWrapperPropTypes;
TopAppBarContentWrapper.defaultProps = TopAppBarContentWrapperDefaultProps;

const createWrappedLogoTitle = Wrapper => children => /*#__PURE__*/React.createElement(Wrapper, null, /*#__PURE__*/React.createElement("div", {
  className: "lmnt-top-app-bar__logo-title-wrapper"
}, children));
const createWrappedContent = Wrapper => children => /*#__PURE__*/React.createElement(Wrapper, null, children);
const TopAppBar = /*#__PURE__*/forwardRef((props, externalRef) => {
  const {
    actions,
    children,
    className,
    contextual,
    contextualActions,
    contextualTheme,
    dense,
    elevated,
    fixed,
    logo,
    logoSize,
    logoTitleWrapper,
    navigation,
    onNavigation,
    prominent,
    prominentTabs,
    scrollTarget,
    subtitle,
    tabActions,
    themeColor,
    title,
    useContentMaxWidth,
    ...customProps
  } = props;
  const ref = useRef();
  const mdcTopAppBarRef = useRef();
  const actionsActual = contextual ? contextualActions : actions;
  const [height, setHeight] = useState();
  useImperativeHandle(externalRef, () => ({
    height,
    current: ref.current
  }), [height]);
  const isTabs = useMemo(() => {
    var _actionsActual$type;
    return (actionsActual === null || actionsActual === void 0 ? void 0 : (_actionsActual$type = actionsActual.type) === null || _actionsActual$type === void 0 ? void 0 : _actionsActual$type.displayName) === 'TabBar' || tabActions;
  }, [actionsActual, tabActions]);
  const isProminent = useMemo(() => prominent || prominentTabs, [prominent, prominentTabs]);
  const showActions = useMemo(() => {
    if (isTabs && prominentTabs) return false;
    return !!actionsActual;
  }, [actionsActual, isTabs, prominentTabs]);
  useEffect(() => {
    mdcTopAppBarRef.current = MDCTopAppBar.attachTo(ref.current);
    setHeight(mdcTopAppBarRef.current.foundation.adapter.getTopAppBarHeight());
    return () => {
      mdcTopAppBarRef.current.destroy();
    };
  }, []);
  useEffect(() => {
    if (scrollTarget !== 'window') {
      if (typeof scrollTarget === 'string') {
        const target = edsQuerySelector(scrollTarget);
        if (target) mdcTopAppBarRef.current.setScrollTarget(target);
      } else {
        mdcTopAppBarRef.current.setScrollTarget(scrollTarget);
      }
    }
  }, [scrollTarget]);
  const titleAndActions = useMemo(() => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("section", {
    className: "mdc-top-app-bar__section mdc-top-app-bar__section--align-start"
  }, navigation && addProps(navigation, {
    onClick: onNavigation,
    className: 'mdc-top-app-bar__navigation-icon'
  }), /*#__PURE__*/React.createElement(ConditionalWrapper, {
    condition: logoTitleWrapper,
    wrapper: createWrappedLogoTitle(logoTitleWrapper)
  }, logo && /*#__PURE__*/React.createElement("div", {
    className: clsx('lmnt-top-app-bar__logo', logoSize === 'small' && 'lmnt-top-app-bar__logo--small', logoSize === 'medium' && 'lmnt-top-app-bar__logo--medium', logoSize === 'large' && 'lmnt-top-app-bar__logo--large', logoSize === 'lgSquare' && 'lmnt-top-app-bar__logo--large-square')
  }, logo), (title || subtitle) && !children && /*#__PURE__*/React.createElement("div", {
    className: clsx('mdc-top-app-bar__title', subtitle && 'mdc-top-app-bar__title--with-subtitle')
  }, !children && title && /*#__PURE__*/React.createElement("span", null, title), !children && subtitle && /*#__PURE__*/React.createElement("span", {
    className: "lmnt-top-app-bar__subtitle mdc-typography--subtitle2"
  }, subtitle)))), !title && !subtitle && children && /*#__PURE__*/React.createElement("section", {
    className: "mdc-top-app-bar__section lmnt-top-app-bar__children",
    role: "toolbar"
  }, children), showActions && /*#__PURE__*/React.createElement("section", {
    className: clsx('mdc-top-app-bar__section', 'mdc-top-app-bar__section--align-end', isTabs && 'lmnt-top-app-bar__section--tab-actions'),
    role: "toolbar"
  }, actionsActual)), [actionsActual, children, isTabs, logo, logoSize, logoTitleWrapper, navigation, onNavigation, showActions, subtitle, title]);
  const themeColorClass = useMemo(() => {
    if (themeColor.includes('gradient')) return `lmnt-theme--bg-${themeColor}`;
    return `lmnt-top-app-bar--${themeColor}`;
  }, [themeColor]);
  return /*#__PURE__*/React.createElement("header", _extends({
    ref: ref
  }, customProps, {
    className: clsx('lmnt', 'mdc-top-app-bar', 'lmnt-top-app-bar', isProminent && 'mdc-top-app-bar--prominent', prominentTabs && 'mdc-top-app-bar--prominent-tabs', dense && 'mdc-top-app-bar--dense', fixed && 'mdc-top-app-bar--fixed', themeColorClass, elevated && 'mdc-elevation--z4', contextual && 'lmnt-top-app-bar--contextual', contextualTheme === 'dark' && 'lmnt-top-app-bar--contextual-dark', contextualTheme === 'light' && 'lmnt-top-app-bar--contextual-light', useContentMaxWidth && 'lmnt-top-app-bar-with-max-content-width', className)
  }), /*#__PURE__*/React.createElement(ConditionalWrapper, {
    condition: useContentMaxWidth,
    wrapper: createWrappedContent(TopAppBarContentWrapper)
  }, /*#__PURE__*/React.createElement("div", {
    className: "mdc-top-app-bar__row"
  }, prominentTabs ? /*#__PURE__*/React.createElement("div", {
    className: "lmnt-top-app-bar__title-and-actions"
  }, titleAndActions) : titleAndActions, prominentTabs && /*#__PURE__*/React.createElement("div", {
    className: "lmnt-top-app-bar__prominent-tabs"
  }, prominentTabs))));
});
TopAppBar.displayName = 'TopAppBar';
TopAppBar.propTypes = TopAppBarPropTypes;
TopAppBar.defaultProps = TopAppBarDefaultProps;

const TopAppBarFixedAdjust = /*#__PURE__*/forwardRef((props, externalRef) => {
  const {
    bannerOpen,
    children,
    className,
    dense,
    prominent,
    tag: Tag,
    useContentMaxWidth,
    ...customProps
  } = props;
  return /*#__PURE__*/React.createElement(Tag, _extends({
    ref: externalRef,
    className: clsx(bannerOpen && 'lmnt-top-app-bar-open-banner--fixed-adjust', !prominent && !dense && 'mdc-top-app-bar--fixed-adjust', prominent && !dense && 'mdc-top-app-bar--prominent-fixed-adjust', !prominent && dense && 'mdc-top-app-bar--dense-fixed-adjust', prominent && dense && 'mdc-top-app-bar--dense-prominent-fixed-adjust', useContentMaxWidth && 'lmnt-top-app-bar-fixed-adjust-with-max-content-width', className)
  }, customProps), children);
});
TopAppBarFixedAdjust.displayName = 'TopAppBarFixedAdjust';
TopAppBarFixedAdjust.propTypes = TopAppBarFixedAdjustPropTypes;
TopAppBarFixedAdjust.defaultProps = TopAppBarFixedAdjustDefaultProps;

export { ActionItem, TopAppBar, TopAppBarContentWrapper, TopAppBarFixedAdjust, ActionItem as TopBarActionItem };
//# sourceMappingURL=index.es.js.map
