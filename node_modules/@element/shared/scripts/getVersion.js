/* eslint-disable import/no-dynamic-require */
/* eslint-disable no-console */
const vu = require('./versionUtils');

const file = vu.getParam(process.argv, 'file');
const type = vu.getParam(process.argv, 'type');
const version = vu.getParam(process.argv, 'version');
const preid = vu.getParam(process.argv, 'preid');

const currentVersion = version || vu.getCurrentVersion(file);

switch (type) {
    case 'current':
        console.log(currentVersion);
        break;
    case 'major':
        console.log(vu.getNextMajorVersion(currentVersion));
        break;
    case 'minor':
        console.log(vu.getNextMinorVersion(currentVersion));
        break;
    case 'patch':
        console.log(vu.getNextPatchVersion(currentVersion));
        break;
    case 'premajor':
        console.log(vu.getNextPreMajorVersion(currentVersion, preid));
        break;
    case 'preminor':
        console.log(vu.getNextPreMinorVersion(currentVersion, preid));
        break;
    case 'prepatch':
        console.log(vu.getNextPrePatchVersion(currentVersion, preid));
        break;
    case 'prerelease':
        console.log(vu.getNextPreReleaseVersion(currentVersion, preid));
        break;
    default:
        console.log(`unknown-${Date.now()}`);
        break;
}
