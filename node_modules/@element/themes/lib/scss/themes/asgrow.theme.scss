// NOTE: Color Ramps only require SCSS color values for contrast calculations\
@use 'sass:math';

@use 'sass:map';
@use 'sass-hex-rgb' as rgb;
@use '../common/mixins' as mixins;
@use '../common/element.core' as element;
@use '../common/functions' as functions;

$assetsPath: '..' !default;

////////////////////////
//////  Colors   ///////
////////////////////////

$lmnt-theme-surface: #fff;
$lmnt-theme-background: $lmnt-theme-surface;
$lmnt-theme-primary: #e8e6cc;
$lmnt-theme-primary-variant: #989174;
$lmnt-theme-secondary: #00a651;
$lmnt-theme-secondary-variant: #006f29;

$primaryMap: (
    primary-50: #fefef7,
    primary-100: #fafaf0,
    primary-200: #f7f7e9,
    primary-300: #f2efe1,
    primary-400: #e8e6cc,
    primary-500: #d2cbaa,
    primary-600: #b8b597,
    primary-700: #989174,
    primary-800: #7f7569,
    primary-900: #535044
);

$secondaryMap: (
    secondary-50: #e6f9ed,
    secondary-100: #aee9c6,
    secondary-200: #59d38a,
    secondary-300: #03bd5e,
    secondary-400: #00a651,
    secondary-500: #00974a,
    secondary-600: #008331,
    secondary-700: #006f29,
    secondary-800: #006027,
    secondary-900: #003c18
);

$dangerMap: (
    danger-50: #ffeaed,
    danger-100: #ffccce,
    danger-200: #ee9894,
    danger-300: #e3716a,
    danger-400: #ec5145,
    danger-500: #ef4227,
    danger-600: #e13727,
    danger-700: #cf2d22,
    danger-800: #c2261b,
    danger-900: #b3190d
);

$ancillaryMap: (
    ancillary-100: #a74f28
);

$successMap: (
    success-50: #e9fff8,
    success-100: #b9ffea,
    success-200: #87ffdb,
    success-300: #30f3b9,
    success-400: #1de1a7,
    success-500: #14c38f,
    success-600: #0ea074,
    success-700: #0a805d,
    success-800: #085c43,
    success-900: #05392a
);

$dataVizComparativeMap: (
    dataVizComparative-50: #240f67,
    dataVizComparative-100: #2d72c4,
    dataVizComparative-200: #89c9b7,
    dataVizComparative-300: #785e9f,
    dataVizComparative-400: #3b8ec8,
    dataVizComparative-500: #b7dbbc,
    dataVizComparative-600: #4153af,
    dataVizComparative-700: #47a3c4,
    dataVizComparative-800: #dfeccb,
    dataVizComparative-900: #6332ad
);

$dataVizSequential1Map: (
    dataVizSequential1-50: #261643,
    dataVizSequential1-100: #422575,
    dataVizSequential1-200: #6540aa,
    dataVizSequential1-300: #7e52d0,
    dataVizSequential1-400: #9a75dd,
    dataVizSequential1-500: #af8bef,
    dataVizSequential1-600: #c6a6ff,
    dataVizSequential1-700: #d8c1ff,
    dataVizSequential1-800: #e8dbff,
    dataVizSequential1-900: #f5efff
);

$dataVizSequential2Map: (
    dataVizSequential2-50: #052d44,
    dataVizSequential2-100: #08517b,
    dataVizSequential2-200: #1774aa,
    dataVizSequential2-300: #319bd8,
    dataVizSequential2-400: #40baff,
    dataVizSequential2-500: #75cdff,
    dataVizSequential2-600: #97e0ff,
    dataVizSequential2-700: #a9f0ff,
    dataVizSequential2-800: #c3fbff,
    dataVizSequential2-900: #ddfffd
);

@include mixins.colorRamp($primaryMap);
@include mixins.colorRamp($secondaryMap);
@include mixins.colorRamp($ancillaryMap);
@include mixins.colorRamp($successMap);
@include mixins.colorRamp($dangerMap);
@include mixins.colorRamp($dataVizComparativeMap);
@include mixins.colorRamp($dataVizSequential1Map);
@include mixins.colorRamp($dataVizSequential2Map);

//////////////////
/// GRADIENTS ///
/////////////////

$gradient-colors: (
    'primary-to-bottom': $lmnt-theme-primary,
    'primary-dark-to-bottom': map.get($primaryMap, 'primary-900'),
    'primary-darker-to-bottom': darken(map.get($primaryMap, 'primary-900'), 10),
    'secondary-to-bottom': $lmnt-theme-secondary,
    'secondary-dark-to-bottom': map.get($secondaryMap, 'secondary-900'),
    'secondary-darker-to-bottom': darken(map.get($secondaryMap, 'secondary-900'), 10),
    'primary-to-top': $lmnt-theme-primary,
    'primary-dark-to-top': map.get($primaryMap, 'primary-900'),
    'primary-darker-to-top': darken(map.get($primaryMap, 'primary-900'), 10),
    'secondary-to-top': $lmnt-theme-secondary,
    'secondary-dark-to-top': map.get($secondaryMap, 'secondary-900'),
    'secondary-darker-to-top': darken(map.get($secondaryMap, 'secondary-900'), 10),
    'black-to-bottom': element.$black,
    'black-to-top': element.$black,
    'white-to-bottom': element.$white,
    'white-to-top': element.$white
);

@include mixins.gradientRamp($gradient-colors);

///////////////////////////
//////  Font Stacks  //////
///////////////////////////

$WhitneySSm: "'HCo Whitney SSm', 'Helvetica Neue', Helvetica, Arial, sans-serif";
$Whitney: "'HCo Whitney', 'Helvetica Neue', Helvetica, Arial, sans-serif";

/////////////////////
//////  Theme  //////
/////////////////////

$onClassesMap: map.merge(
    element.$onClassesMap,
    (
        on-background: functions.color-contrast-value-check($lmnt-theme-background),
        on-surface: functions.color-contrast-value-check($lmnt-theme-surface),
        on-primary: functions.color-contrast-value-check($lmnt-theme-primary),
        on-primary-variant:
            functions.color-contrast-value-check($lmnt-theme-primary-variant),
        primary-on-surface: #535044,
        on-secondary: functions.color-contrast-value-check($lmnt-theme-secondary),
        on-secondary-variant:
            functions.color-contrast-value-check($lmnt-theme-secondary-variant),
        secondary-on-surface: #006027
    )
);

@each $color, $value in $onClassesMap {
    @include mixins.onBackgroundColorClasses($color: $color, $value: $value);
}

$onSurfaceMap: (
    on-surface-active:
        rgba(map.get($onClassesMap, 'on-surface'), element.$emphasis-high-black),
    on-surface-inactive:
        rgba(map.get($onClassesMap, 'on-surface'), element.$emphasis-inactive),
    on-surface-disabled:
        rgba(map.get($onClassesMap, 'on-surface'), element.$emphasis-disabled),
    on-surface-stroke:
        rgba(map.get($onClassesMap, 'on-surface'), element.$emphasis-stroke),
    on-surface-base: rgba(map.get($onClassesMap, 'on-surface'), element.$emphasis-high)
);

$onPrimaryMap: (
    on-primary-active:
        rgba(map.get($onClassesMap, 'on-primary'), element.$emphasis-high-black),
    on-primary-inactive:
        rgba(map.get($onClassesMap, 'on-primary'), element.$emphasis-inactive),
    on-primary-disabled:
        rgba(map.get($onClassesMap, 'on-primary'), element.$emphasis-disabled),
    on-primary-stroke:
        rgba(map.get($onClassesMap, 'on-primary'), element.$emphasis-stroke),
    on-primary-base: rgba(map.get($onClassesMap, 'on-primary'), element.$emphasis-high)
);

$onSecondaryMap: (
    on-secondary-active:
        rgba(map.get($onClassesMap, 'on-secondary'), element.$emphasis-high-black),
    on-secondary-inactive:
        rgba(map.get($onClassesMap, 'on-secondary'), element.$emphasis-inactive),
    on-secondary-disabled:
        rgba(map.get($onClassesMap, 'on-secondary'), element.$emphasis-disabled),
    on-secondary-stroke:
        rgba(map.get($onClassesMap, 'on-secondary'), element.$emphasis-stroke),
    on-secondary-base:
        rgba(map.get($onClassesMap, 'on-secondary'), element.$emphasis-high)
);

@each $color, $value in $onPrimaryMap {
    @include mixins.onClasses($color: $color, $value: $value);
}

@each $color, $value in $onSecondaryMap {
    @include mixins.onClasses($color: $color, $value: $value);
}

:root,
.lmnt,
.lmnt-theme-asgrow {
    --lmnt-theme-on-background: #{map.get($onClassesMap, 'on-background')};
    --lmnt-theme-primary-font: #{$WhitneySSm};

    // Element Theme Defaults - Surface
    --lmnt-theme-surface: #{$lmnt-theme-surface};
}

.lmnt,
.lmnt-theme-asgrow {
    //////////////////////////////////
    ////// BASE LEVEL OVERRIDES //////
    //////////////////////////////////

    // Element Theme Defaults - Fonts
    --lmnt-theme-primary-font: #{$WhitneySSm};
    --lmnt-theme-secondary-font: #{$Whitney};

    // Element Theme Defaults - Primary
    --lmnt-theme-primary: #{$lmnt-theme-primary};
    --lmnt-theme-on-primary: #{map.get($onClassesMap, 'on-primary')};
    --lmnt-theme-primary-variant: #{$lmnt-theme-primary-variant};
    --lmnt-theme-on-primary-variant: #{map.get($onClassesMap, 'on-primary-variant')};

    --lmnt-theme-primary-on-surface: #{map.get($onClassesMap, 'primary-on-surface')};
    $lmnt-primary-on-surface-rgb: rgb.toValues(
        map.get($onClassesMap, 'primary-on-surface')
    );

    --lmnt-primary-on-surface-rgb: #{$lmnt-primary-on-surface-rgb};

    // Element Theme Defaults - Secondary
    --lmnt-theme-secondary: #{$lmnt-theme-secondary};
    --lmnt-theme-on-secondary: #{map.get($onClassesMap, 'on-secondary')};
    --lmnt-theme-secondary-variant: #{$lmnt-theme-secondary-variant};
    --lmnt-theme-on-secondary-variant: #{map.get($onClassesMap, 'on-secondary-variant')};
    --lmnt-theme-secondary-on-surface: #{map.get($onClassesMap, 'secondary-on-surface')};

    // On surface rgb
    $lmnt-primary-on-surface-rgb: rgb.toValues(
        map.get($onClassesMap, 'primary-on-surface')
    );
    --lmnt-primary-on-surface-rgb: #{$lmnt-primary-on-surface-rgb};

    $lmnt-secondary-on-surface-rgb: rgb.toValues(
        map.get($onClassesMap, 'secondary-on-surface')
    );
    --lmnt-secondary-on-surface-rgb: #{$lmnt-secondary-on-surface-rgb};

    $lmnt-danger-on-surface-rgb: rgb.toValues(
        map.get($onClassesMap, 'danger-on-surface')
    );
    --lmnt-danger-on-surface-rgb: #{$lmnt-danger-on-surface-rgb};

    $lmnt-success-on-surface-rgb: rgb.toValues(
        map.get($onClassesMap, 'danger-on-surface')
    );
    --lmnt-success-on-surface-rgb: #{$lmnt-success-on-surface-rgb};

    // On color rgb
    $lmnt-on-primary-rgb: rgb.toValues(map.get($onClassesMap, 'on-primary'));
    --lmnt-on-primary-rgb: #{$lmnt-on-primary-rgb};

    $lmnt-on-secondary-rgb: rgb.toValues(map.get($onClassesMap, 'on-secondary'));
    --lmnt-on-secondary-rgb: #{$lmnt-on-secondary-rgb};

    $lmnt-on-danger-rgb: rgb.toValues(map.get($onClassesMap, 'on-danger'));
    --lmnt-on-danger-rgb: #{$lmnt-on-danger-rgb};

    $lmnt-on-success-rgb: rgb.toValues(map.get($onClassesMap, 'on-success'));
    --lmnt-on-success-rgb: #{$lmnt-on-success-rgb};

    // Element Primary Color Ramp
    @each $name, $color in $primaryMap {
        --lmnt-theme-#{$name}: #{$color};
    }
    // Element Secondary Color Ramp
    @each $name, $color in $secondaryMap {
        --lmnt-theme-#{$name}: #{$color};
    }
    // Element Data Viz Sequential 1 Color Ramp
    @each $name, $color in $dataVizSequential1Map {
        --lmnt-theme-#{$name}: #{$color};
    }
    // Element Data Viz Sequential 2 Color Ramp
    @each $name, $color in $dataVizSequential2Map {
        --lmnt-theme-#{$name}: #{$color};
    }
    // Element Data Viz Comparative Color Ramp
    @each $name, $color in $dataVizComparativeMap {
        --lmnt-theme-#{$name}: #{$color};
    }
    // Element Danger Color Ramp
    @each $name, $color in $dangerMap {
        --lmnt-theme-#{$name}: #{$color};
    }
    // Element Ancillary Color Ramp
    @each $name, $color in $ancillaryMap {
        --lmnt-theme-#{$name}: #{$color};
    }

    // Element on Colors
    // Element On Surface Color Ramp
    @each $name, $color in $onSurfaceMap {
        --lmnt-theme-#{$name}: #{$color};
    }

    // Element On Primary Color Ramp
    @each $name, $color in $onPrimaryMap {
        --lmnt-theme-#{$name}: #{$color};
    }

    // Element On Secondary Color Ramp
    @each $name, $color in $onSecondaryMap {
        --lmnt-theme-#{$name}: #{$color};
    }

    ///////////////////////////////////////
    ////// COMPONENT LEVEL OVERRIDES //////
    ///////////////////////////////////////

    // Button
    --lmnt-button-shape-radius: 16px;
    --lmnt-button-filled-bg: var(--lmnt-theme-secondary);
    --lmnt-button-filled-text: var(--lmnt-theme-on-secondary);
    --lmnt-button-outlined-text-color: var(--lmnt-theme-secondary);
    --lmnt-button-outlined-border-color: var(--lmnt-theme-secondary);
    --lmnt-button-text-color: var(--lmnt-theme-secondary);

    // Button - On Primary BG
    // TODO: deprecate styling based on `.lmnt-theme-primary-bg` in favor of variant styling
    --lmnt-button-outlined-text-color--on-primary: #{rgba(element.$black, 0.87)};
    --lmnt-button-outlined-border-color--on-primary: #{rgba(element.$black, 0.87)};
    --lmnt-button-text-color--on-primary: #{rgba(element.$black, 0.87)};

    // Select
    --lmnt-select-active-color: #{element.$black};

    // Snackbar
    --lmnt-theme-on-snackbar: #f7f7e9;
    --lmnt-theme-on-snackbar-variant: #59d38a;

    // Typography

    --lmnt-typography-link-color: var(--lmnt-theme-primary-on-surface);

    // Display 1
    --mdc-typography-headline1-font-family: var(--lmnt-theme-secondary-font);
    --mdc-typography-headline1-font-weight: 700;
    --mdc-typography-headline1-letter-spacing: -0.021em; // -2px
    --mdc-typography-headline1-line-height: 1; // 96px or 1
    --mdc-typography-headline1-text-transform: uppercase;

    // Display 2
    --mdc-typography-headline2-font-family: var(--lmnt-theme-secondary-font);
    --mdc-typography-headline2-font-weight: 700;
    --mdc-typography-headline2-letter-spacing: -0.002em; // -0.1px
    --mdc-typography-headline2-line-height: #{math.div(64px, 60px)}; // 64px or 1.067

    // Display 3
    --mdc-typography-headline3-font-family: var(--lmnt-theme-secondary-font);
    --mdc-typography-headline3-font-weight: 700;
    --mdc-typography-headline3-letter-spacing: 0.004em; // 0.2px or 0.004em
    --mdc-typography-headline3-line-height: #{math.div(52px, 48px)}; // 52px or 1.083
    --mdc-typography-headline3-text-transform: uppercase;

    // Display 4
    --mdc-typography-headline4-font-family: var(--lmnt-theme-secondary-font);
    --mdc-typography-headline4-font-weight: 700;
    --mdc-typography-headline4-letter-spacing: 0.015em; // 0.5px or 0.015em
    --mdc-typography-headline4-line-height: #{math.div(36px, 34px)}; // 36px or 1.059

    // Display 5
    --mdc-typography-headline5-font-family: var(--lmnt-theme-secondary-font);
    --mdc-typography-headline5-font-weight: 700;
    --mdc-typography-headline5-letter-spacing: 0.008em; // 0.2px or 0.008em
    --mdc-typography-headline5-line-height: #{math.div(28px, 24px)}; // 28px or 1.167
    --mdc-typography-headline5-text-transform: uppercase;

    // Display 6
    --mdc-typography-headline6-font-family: var(--lmnt-theme-secondary-font);
    --mdc-typography-headline6-font-weight: 700;
    --mdc-typography-headline6-line-height: 1; // 20px or 1

    // Subtitle 1
    --mdc-typography-subtitle1-font-weight: 600;
    --mdc-typography-subtitle1-letter-spacing: 0;
    --mdc-typography-subtitle1-line-height: #{math.div(20px, 16px)}; // 20px or 1.25

    // Subtitle 2
    --mdc-typography-subtitle2-line-height: #{math.div(16px, 14px)}; // 16px or 1.143

    // Body 1
    --mdc-typography-body1-font-weight: 300;
    --mdc-typography-body1-line-height: #{math.div(28px, 16px)}; // 28px or 1.75

    // Body 2
    --mdc-typography-body2-font-weight: 300;
    --mdc-typography-body2-line-height: #{math.div(20px, 14px)}; // 20px or 1.429

    // Caption
    --mdc-typography-caption-font-weight: 300;
    --mdc-typography-caption-letter-spacing: 0.042em; // 0.5px or 0.042em
    --mdc-typography-caption-line-height: #{math.div(16px, 12px)}; // 16px or 1.333

    // Button
    --mdc-typography-button-font-weight: 700;
    --mdc-typography-button-letter-spacing: 0.143em; // 2px or 0.143em
    --mdc-typography-button-line-height: #{math.div(16px, 14px)}; // 16px or 1.143

    // Overline
    --mdc-typography-overline-line-height: #{math.div(16px, 12px)}; // 16px or 1.333
}

/////////////////////////
////////  FONTS  ////////
/////////////////////////

/* stylelint-disable scale-unlimited/declaration-strict-value, font-weight-notation, indentation */
// Whitney - bold
@font-face {
    font-display: swap;
    font-family: 'HCo Whitney';
    font-style: normal;
    font-weight: 700;
    src: url('#{$assetsPath}/assets/fonts/HCo_Whitney_Basic_Web/hco_fonts/woff2/Whitney-Bold_Web.woff2')
            format('woff2'),
        url('#{$assetsPath}/assets/fonts/HCo_Whitney_Basic_Web/hco_fonts/woff/Whitney-Bold_Web.woff')
            format('woff');
}

// Whitney SSm - book, medium, bold
@font-face {
    font-display: swap;
    font-family: 'HCo Whitney SSm';
    font-style: normal;
    font-weight: 400;
    src: url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff2/WhitneySSm-Book_Web.woff2')
            format('woff2'),
        url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff/WhitneySSm-Book_Web.woff')
            format('woff');
}

@font-face {
    font-display: swap;
    font-family: 'HCo Whitney SSm';
    font-style: italic;
    font-weight: 400;
    src: url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff2/WhitneySSm-BookItalic_Web.woff2')
            format('woff2'),
        url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff/WhitneySSm-BookItalic_Web.woff')
            format('woff');
}

@font-face {
    font-display: swap;
    font-family: 'HCo Whitney SSm';
    font-style: normal;
    font-weight: 500;
    src: url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff2/WhitneySSm-Medium_Web.woff2')
            format('woff2'),
        url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff/WhitneySSm-Medium_Web.woff')
            format('woff');
}

@font-face {
    font-display: swap;
    font-family: 'HCo Whitney SSm';
    font-style: italic;
    font-weight: 500;
    src: url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff2/WhitneySSm-MediumItalic_Web.woff2')
            format('woff2'),
        url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff/WhitneySSm-MediumItalic_Web.woff')
            format('woff');
}

@font-face {
    font-display: swap;
    font-family: 'HCo Whitney SSm';
    font-style: normal;
    font-weight: 700;
    src: url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff2/WhitneySSm-Bold_Web.woff2')
            format('woff2'),
        url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff/WhitneySSm-Bold_Web.woff')
            format('woff');
}

@font-face {
    font-display: swap;
    font-family: 'HCo Whitney SSm';
    font-style: italic;
    font-weight: 700;
    src: url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff2/WhitneySSm-BoldItalic_Web.woff2')
            format('woff2'),
        url('#{$assetsPath}/assets/fonts/HCo_WhitneySSm_Basic_Web/hco_fonts/woff/WhitneySSm-BoldItalic_Web.woff')
            format('woff');
}

/* stylelint-enable scale-unlimited/declaration-strict-value, font-weight-notation, indentation */
