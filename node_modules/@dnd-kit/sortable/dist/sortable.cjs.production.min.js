"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),r=(e=t)&&"object"==typeof e&&"default"in e?e.default:e,n=require("@dnd-kit/core"),o=require("@dnd-kit/utilities");function i(e,t,r){var n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function a(e){return null!==e&&e>=0}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f={scaleX:1,scaleY:1},u=function(e){var t=e.layoutRects,r=e.index,n=i(t,e.overIndex,e.activeIndex),o=t[r],a=n[r];return a&&o?{x:a.offsetLeft-o.offsetLeft,y:a.offsetTop-o.offsetTop,scaleX:a.width/o.width,scaleY:a.height/o.height}:null},c={scaleX:1,scaleY:1},d=r.createContext({activeIndex:-1,containerId:"Sortable",disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:u,wasSorting:{current:!1}}),l=function(e){return!(!e.transition||!e.isSorting&&e.newIndex===e.index)},v={duration:200,easing:"ease"},g=o.CSS.Transition.toString({property:"transform",duration:0,easing:"linear"}),h={roleDescription:"sortable"},p=[n.KeyboardCode.Down,n.KeyboardCode.Right,n.KeyboardCode.Up,n.KeyboardCode.Left];exports.SortableContext=function(e){var i,a=e.children,s=e.id,f=e.items,c=e.strategy,l=void 0===c?u:c,v=n.useDndContext(),g=v.active,h=v.overlayNode,p=v.droppableRects,x=v.over,y=v.recomputeLayouts,b=v.willRecomputeLayouts,w=o.useUniqueId("Sortable",s),R=Boolean(null!==h.rect),m=g?f.indexOf(g):-1,L=-1!==m,S=t.useRef(L),I=x?f.indexOf(x.id):-1,T=t.useRef(f),C=function(e,t){return e.reduce((function(e,r,n){var o=t.get(r);return o&&(e[n]=o),e}),Array(e.length))}(f,p),D=(i=T.current,!(f.join()===i.join())),O=-1!==I&&-1===m||D;o.useIsomorphicLayoutEffect((function(){D&&L&&!b&&y()}),[D,L,y,b]),t.useEffect((function(){T.current=f}),[f]),t.useEffect((function(){requestAnimationFrame((function(){S.current=L}))}),[L]);var E=t.useMemo((function(){return{activeIndex:m,containerId:w,disableTransforms:O,items:f,overIndex:I,useDragOverlay:R,sortedRects:C,strategy:l,wasSorting:S}}),[m,w,O,f,I,C,R,l,S]);return r.createElement(d.Provider,{value:E},a)},exports.arrayMove=i,exports.defaultAnimateLayoutChanges=l,exports.horizontalListSortingStrategy=function(e){var t,r=e.layoutRects,n=e.activeIndex,o=e.overIndex,i=e.index,a=null!=(t=r[n])?t:e.activeNodeRect;if(!a)return null;var u=function(e,t,r){var n=e[t],o=e[t-1],i=e[t+1];return o||i?r<t?o?n.offsetLeft-(o.offsetLeft+o.width):i.offsetLeft-(n.offsetLeft+n.width):i?i.offsetLeft-(n.offsetLeft+n.width):n.offsetLeft-(o.offsetLeft+o.width):0}(r,i,n);if(i===n){var c=r[o];return c?s({x:n<o?c.offsetLeft+c.width-(a.offsetLeft+a.width):c.offsetLeft-a.offsetLeft,y:0},f):null}return s(i>n&&i<=o?{x:-a.width-u,y:0}:i<n&&i>=o?{x:a.width+u,y:0}:{x:0,y:0},f)},exports.rectSortingStrategy=u,exports.rectSwappingStrategy=function(e){var t,r,n=e.activeIndex,o=e.index,i=e.layoutRects,a=e.overIndex;return o===n&&(t=i[o],r=i[a]),o===a&&(t=i[o],r=i[n]),r&&t?{x:r.offsetLeft-t.offsetLeft,y:r.offsetTop-t.offsetTop,scaleX:r.width/t.width,scaleY:r.height/t.height}:null},exports.sortableKeyboardCoordinates=function(e,t){var r=t.context,o=r.droppableContainers,i=r.translatedRect,a=r.scrollableAncestors;if(p.includes(e.code)){if(e.preventDefault(),!i)return;var s=[];Object.entries(o).forEach((function(t){var r=t[0],o=t[1];if(!(null==o?void 0:o.disabled)){var a=null==o?void 0:o.node.current;if(a){var f=n.getViewRect(a);switch(e.code){case n.KeyboardCode.Down:i.top+i.height<=f.top&&s.push([r,f]);break;case n.KeyboardCode.Up:i.top>=f.top+f.height&&s.push([r,f]);break;case n.KeyboardCode.Left:i.left>=f.left+f.width&&s.push([r,f]);break;case n.KeyboardCode.Right:i.left+i.width<=f.left&&s.push([r,f])}}}}));var f=n.closestCorners(s,i);if(f){var u,c=null==(u=o[f])?void 0:u.node.current;if(c){var d=n.getScrollableAncestors(c).some((function(e,t){return a[t]!==e})),l=n.getViewRect(c),v=d?{x:0,y:0}:{x:i.width-l.width,y:i.height-l.height};return{x:l.left-v.x,y:l.top-v.y}}}}},exports.useSortable=function(e){var r=e.animateLayoutChanges,f=void 0===r?l:r,u=e.attributes,c=e.disabled,p=e.id,x=e.strategy,y=e.transition,b=void 0===y?v:y,w=t.useContext(d),R=w.items,m=w.containerId,L=w.activeIndex,S=w.disableTransforms,I=w.sortedRects,T=w.overIndex,C=w.useDragOverlay,D=w.strategy,O=w.wasSorting,E=n.useDraggable({id:p,attributes:s({},h,u),disabled:c}),N=E.active,K=E.activeNodeRect,j=E.activatorEvent,q=E.attributes,A=E.setNodeRef,k=E.listeners,X=E.isDragging,Y=E.over,M=E.transform,B=R.indexOf(p),P=t.useMemo((function(){return{containerId:m,index:B,items:R}}),[m,B,R]),U=n.useDroppable({id:p,data:P}),F=U.rect,V=U.node,_=U.setNodeRef,z=o.useCombinedRefs(_,A),G=Boolean(N),H=G&&O.current&&!S&&a(L)&&a(T),J=!C&&X,Q=J&&H?M:null,W=H?null!=Q?Q:(null!=x?x:D)({layoutRects:I,activeNodeRect:K,activeIndex:L,overIndex:T,index:B}):null,Z=a(L)&&a(T)?i(R,L,T).indexOf(p):B,$=t.useRef(Z),ee=f({active:N,isDragging:X,isSorting:G,id:p,index:B,items:R,newIndex:$.current,transition:b,wasSorting:O.current}),te=function(e){var r=e.rect,o=e.disabled,i=e.index,a=e.node,s=t.useState(null),f=s[0],u=s[1],c=t.useRef(i);return t.useEffect((function(){if(!o&&i!==c.current&&a.current){var e=r.current;if(e){var t=n.getBoundingClientRect(a.current),s={x:e.offsetLeft-t.offsetLeft,y:e.offsetTop-t.offsetTop,scaleX:e.width/t.width,scaleY:e.height/t.height};(s.x||s.y)&&u(s)}}i!==c.current&&(c.current=i)}),[o,i,a,r]),t.useEffect((function(){f&&requestAnimationFrame((function(){u(null)}))}),[f]),f}({disabled:!ee,index:B,node:V,rect:F});return t.useEffect((function(){G&&($.current=Z)}),[G,Z]),{active:N,attributes:q,activatorEvent:j,rect:F,index:B,isSorting:G,isDragging:X,listeners:k,node:V,overIndex:T,over:Y,setNodeRef:z,setDroppableNodeRef:_,setDraggableNodeRef:A,transform:null!=te?te:W,transition:te?g:J||!b?null:G||ee?o.CSS.Transition.toString(s({},b,{property:"transform"})):null}},exports.verticalListSortingStrategy=function(e){var t,r=e.activeIndex,n=e.index,o=e.layoutRects,i=e.overIndex,a=null!=(t=o[r])?t:e.activeNodeRect;if(!a)return null;if(n===r){var f=o[i];return f?s({x:0,y:r<i?f.offsetTop+f.height-(a.offsetTop+a.height):f.offsetTop-a.offsetTop},c):null}var u=function(e,t,r){var n=e[t],o=e[t-1],i=e[t+1];return n?r<t?o?n.offsetTop-(o.offsetTop+o.height):i?i.offsetTop-(n.offsetTop+n.height):0:i?i.offsetTop-(n.offsetTop+n.height):o?n.offsetTop-(o.offsetTop+o.height):0:0}(o,n,r);return s(n>r&&n<=i?{x:0,y:-a.height-u}:n<r&&n>=i?{x:0,y:a.height+u}:{x:0,y:0},c)};
//# sourceMappingURL=sortable.cjs.production.min.js.map
