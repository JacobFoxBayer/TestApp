# Navbar Themes

Part of creating a custom suite is styling the navigation bar. The navbar styles are written in `Sass`, with scss files.

## Creating theme for the navbar.

When creating a theme, **do not fork** the navbar project and start making changes. You may find yourself behind changes, and unable to keep your suite's navbar theme in sync with the latest navbar changes.

 Instead, use the project as a dependancy for your theme. All the variables used in the navbar can be overriden - there's no reason to try to maintain your own copy.

### Install the navbar styles

Every change to the navbar is published out to our internal npm instance, including style changes. You can install the dependancy from npm with the following command:

``` bash
npm i @monsantoit/phoenix-navbar
```

Then, in your scss project, import it as a dependancy
``` scss
// import the path to the style.scss file, which imports the rest of the navbar theme.
@import "@monsantoit/phoenix-navbar/menu-ui/styles/style"
```

### Customization and Variables

The variables listed below are used in the navigation bar's styles. This list may grow over time to allow more customization, but the current focus for the navbar is around small changes to color, logo placement, and font tweaks to quickly create a navigation bar that aligns with your suite's brand.

If you don't know what to set a variable to, your best option is to just omit it. It's likely that the default value will work just fine.

``` scss
// colors
$phoenix-navbar-primary: #7b1fa2;
$phoenix-navbar-secondary: #26a69a;

// navigation bar
$phoenix-navbar-bar-height: 55px !default;
$phoenix-navbar-background: $phoenix-navbar-primary !default;
$phoenix-navbar-color: white !default;

// logo
$phoenix-navbar-logo-margin-top: 0px !default;
$phoenix-navbar-logo-margin-bottom: 0px !default;
$phoenix-navbar-logo-margin-left: 6px !default;
$phoenix-navbar-logo-margin-right: 6px !default;
$phoenix-navbar-logo-horizontal-margin: 8px !default;
$phoenix-navbar-logo-height: auto !default;
$phoenix-navbar-logo-width: 160px !default;

// badges
$phoenix-navbar-badge-color: #00acc1 !default;

// app name
$phoenix-navbar-app-font-size: 19px !default;
$phoenix-navbar-app-vertical-padding: 16px !default;
$phoenix-navbar-app-horizontal-padding: 7px !default;

// buttons
$phoenix-navbar-button-color: white !default;
$phoenix-navbar-button-background-color: $phoenix-navbar-primary !default;

// mega-menu items
$phoenix-navbar-item-hover-background-color: #eeeeee !default;
$phoenix-navbar-item-hover-color: inherit !default;
$phoenix-navbar-item-active-background-color: lighten($phoenix-navbar-primary, 50%) !default;
$phoenix-navbar-item-active-color: $phoenix-navbar-primary !default;
$pheonix-navbar-item-menu-transition: all 0.1s ease-in !default;
$phoenix-navbar-item-location-background-color: transparent !default;
$phoenix-navbar-menu-animation-bounce: cubic-bezier(0.71,-0.01, 0.66, 1.3);

// dropdown
$phoenix-navbar-dropdown-link-color: $phoenix-navbar-primary;
$phoenix-navbar-dropdown-animation-speed: 200ms;
$phoenix-navbar-dropdown-estimated-height: 50em;

// search
$phoenix-navbar-search-placeholder-color: rgba(247, 254, 255, 0.39) !default;
$phoenix-navbar-search-field-width: 200px !default;
$phoenix-navbar-search-font-weight: 100 !default;
```

## Change Management

New features are released as new versions. You can update what navbar your suite uses at `devtools.bayer.com/navigation`. **Always** test out your theme against the version of navbar you intend to deploy, before making changes.

### Version Rollouts
The navbar uses a read-behind cache to speed up it's install process. Once the navbar installs successfully, it stores the result of all external calls and configuration locally. Successive installs of the navbar use the cached values, and check for updates asynchronously.

Which means when you upgrade your suite's navbar, the previous version might be live for your users for up to a week!

If you're hosting a single navbar stylesheet for all applications in your suite, you should make sure that stylesheet should try to support both the *current*, and *next* navbar versions.

### Testing against specific navbar versions
You can choose which version of the navbar to run locally by passing in the `version` parameter into the navbar's install method.

``` js
// import your theme's styles programatically
import '@monsantoit/my-amazing-navbar-theme'
import navbar from '@monsantoit/phoenix-navbar'

// fetch the exact navbar version that you wish to test.
navbar.install({
    version: '2.3.0',
    element: document.querySelector('.nav'),
    suiteId: 'your-suite-id',
    productId: 'you-product-id',
})
```

### Style Conflicts

Style conflicts between two navbar versions may happen! As new features roll out, earlier decisions around padding or font-sizes may make your navbar theme look awkward or broken.

You can scope version-specific changes with the navbar's version class. Starting with version `2.2.0`, the navbar's version will appended to the list of classes on the outermost navbar element. Periods will be replaced by dashes.

For example - if the navbar was version 2.3.0, then the version class would be `phoenix-navbar-version-2-3-0`

The `scss` below provides an example of how that might be useful in handling conflicts
between two versions.

``` scss
//  CONFLICTS
//  ---------------------
//  current version 2.2.0
//  styles that conflict with the next release (2.3.0) should go here.

.phoenix-navbar-version-2-2-0 {
    // Styles scoped here will only apply to the navbar when at version 2.2.0
    .badge {
        padding-left: 20px;
    }
}

//   next version: 2.3.0
//   styles that conflict with the current release (2.2.0) should be placed below.

.phoenix-navbar-version-2-3-0 {
    // Styles scoped here will only apply to the navbar when at version 2.3.0
    .badge {
        padding-left: 10px;
    }
}
```
Scoping all styles to every version sounds like a headache - but as long as you aren't changing navbar versions more than once a week, you shouldn't ever need to support more than two versions of the navbar at a time.
