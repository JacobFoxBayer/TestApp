const browser = {
    window() {
        if (typeof window === 'undefined') {
            return {}
        }
        return window
    },

    document() {
        if (typeof document === 'undefined') {
            return {}
        }
        return document
    },

    namespace() {
        const namespace = browser.window().velocity || browser.window().phoenix
        if (namespace != null) {
            return namespace
        }
        console.warn(
            'Could not find the namespace for profile client. Are you using @monsantoit/service-bindings middleware?'
        )
        return {}
    },

    serviceBindings() {
        return browser.namespace().serviceBindings || {}
    },

    localDevelopment() {
        return !!browser.namespace().localDevelopment
    },

    localOcelot() {
        return !!browser.namespace().localOcelot
    }
}

module.exports = browser
