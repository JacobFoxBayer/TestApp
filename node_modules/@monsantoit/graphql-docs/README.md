# graphql-docs

This project brings together a few UIs for documenting and exploring a Graphql schema.  There are a lot of good tools in the community already.  This one simply brings together a few of the better ones and styles them consistently to provide a single set of developer documentation for your schema.

 It is intended to be used as a stand-alone express middleware (no extra webpack step):

 ## Example Usage:

 ```
 app.use "#{appBaseUrl}/docs", graphqlDocs(
     name: "My API"
     baseUrl: "/docs"
     graphUrl: 'http://mygraph-server:3001/graphql'
     headerColor: '#7e519e'
     pages: [
            title: 'Overview'
            type: 'markdown'
            url: '/'
            markdown: fs.readFileSync('./graphql/overview.md', 'utf-8')
        ,
            title: 'API'
            type: 'api'
            url: '/api'
            intro: fs.readFileSync('./graphql/api-intro.md', 'utf-8')
        ,
            title: 'Example Queries'
            type: 'markdown'
            url: '/examples'
            markdown: fs.readFileSync('./graphql/examples.md', 'utf-8')
        ,
            title: 'Explorer'
            type: 'explorer'
            url: '/explorer'
        ,
            title:  'Diagram'
            type: 'navigator'
            url: '/diagram'
    ]
 )
```

## Graphql Subscriptions

To use websockets set the option `wsUrl` to the graphql websocket endpoint.  The URL can be absolute (with a `ws:` protocol), or start with a slash to use the current host and port with the given path.

## Development
The middleware example does not provide a graphql endpoint to use for development.
This means you need to have your own GraphQL API running locally to test against. The
existing implementation is pointed to PAPI's implementation at
(`localhost:3001/v3/graphql`).

### Components and Styles
Components are written in coffeescript. Styles are written in less. Babel loader is not provided
to reduce module size.

## Development

For the most part, this is just composition of libraries.

### Structure

`src` is the UI source code, which is compiled by webpack, and placed in `public`

`public` contains minified scripts for material UI components, and the voyager service worker,
as well as our minified output.

`main` is the middleware itself, that serves the public directory.

## Changelog
2020-10-13 - `1.17.1` - Fix error output, remove subscription requirement, update dependencies.
2017-09-12 - `1.6.0` - Style updates, README updates, add webpack dev middleware
