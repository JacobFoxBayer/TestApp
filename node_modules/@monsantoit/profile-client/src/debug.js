const settings = require('./safe/settings')

const maybeLog = (type, args) => {
    if (settings.debuggerEnabled() && typeof console[type] === 'function')
        return console[type]('ProfileClient', new Date().toISOString(), ...Array.from(args))
    return undefined
}

const methods = ['log', 'warn', 'info', 'error']
const debug = {}
methods.forEach((method) => {
    debug[method] = (...r) => maybeLog('log', r)
})

module.exports = debug
